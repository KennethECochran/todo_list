(()=>{"use strict";const t=document.getElementById("projectLinks"),e=[],o=document.getElementById("btnHolder");class n{constructor(t,e,o,n){this.name=t,this.description=e,this.dueDate=o,this.priority=n}}function d(){document.querySelectorAll(".card").forEach((t=>{t.remove()}))}function c(t){d();let e=0;for(let o of t){const t=document.querySelector("#toDoHolder"),n=document.createElement("div"),d=document.createElement("div");d.classList.add("btnHolders"),n.classList.add("card"),n.setAttribute("data-priority",`${o.priority}`);const c=document.createElement("div"),r=document.createElement("div");r.classList.add("toDoDetails");const a=document.createElement("div"),i=document.createElement("div"),s=document.createElement("button"),l=document.createElement("button");s.classList.add("remove"),s.setAttribute("index",`${e}`),l.classList.add("changePriority"),l.setAttribute("index",`${e}`),c.textContent=`${o.name}`,a.textContent=`Notes: ${o.description}`,i.textContent=`Due Date: ${o.dueDate}`,s.textContent="Remove ToDo",l.textContent="Change Priority",n.appendChild(c),r.appendChild(a),r.appendChild(i),d.appendChild(s),d.appendChild(l),n.appendChild(d),n.appendChild(r),t.append(n),e+=1}}document.addEventListener("click",(t=>{t.target.matches("#addProject")&&projectForm.showModal()})),document.addEventListener("click",(o=>{if(o.target.matches("#confirmProjectBtn")){const o={tasks:[],title:document.querySelector("#title").value};e.push(o),function(){document.querySelectorAll(".project").forEach((t=>{t.remove()}));let o=0;for(const n of e){const e=document.createElement("button");e.classList.add("project"),e.textContent=`${n.title}`,e.setAttribute("id",`${o}`),t.appendChild(e),o+=1}}()}})),document.addEventListener("click",(t=>{if(t.target.matches(".project")){document.querySelectorAll(".addToDo").forEach((t=>{t.remove()})),d();let n=t.target.getAttribute("id");const r=document.createElement("button");r.classList.add("addToDo"),r.setAttribute("data-index",`${n}`),r.textContent="Create ToDo",o.appendChild(r),c(e[n].tasks)}})),document.addEventListener("click",(t=>{t.target.matches(".addToDo")&&todoform.showModal()})),document.addEventListener("click",(t=>{if(t.target.matches("#confirmToDoBtn")){const t=document.querySelector(".addToDo").getAttribute("data-index");let o=document.querySelector("#toDoTitle").value,d=document.querySelector("#description").value,r=document.querySelector("#date").value,a=document.querySelector("input[name=priorityStatus]:checked").value;const i=new n(o,d,r,a);e[t].tasks.push(i),c(e[t].tasks)}})),document.addEventListener("click",(t=>{if(t.target.matches(".remove")){const o=document.querySelector(".addToDo").getAttribute("data-index"),n=t.target.getAttribute("index");e[o].tasks.splice(n,1),c(e[o].tasks)}})),document.addEventListener("click",(t=>{if(t.target.matches(".changePriority")){const o=document.querySelector(".addToDo").getAttribute("data-index"),n=t.target.getAttribute("index");"True"==t.target.parentElement.parentElement.getAttribute("data-priority")?e[o].tasks[n].priority="False":e[o].tasks[n].priority="True",c(e[o].tasks)}}))})();